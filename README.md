# Скрипт для обработки csv-файлов

## Стек:

### Python, argparse, csv, tabulate, pytest, flake8

## Клонирование репозитория и установка зависимостей
#### Репозиторий на GitHub:
```
https://github.com/Freeman-83/average-rating-report
```

#### Установка виртуального окружения:

```
python3 -m venv venv
```

#### Установка зависимостей:
```
pip install -r requirements.txt
```

## Алгоритм работы программы

#### Консольный ввод параметров наименованиями отчета и файлов для парсинга:
```
python main.py --report average-rating --files products1.csv products2.csv
```

#### Передача пользователем пути к файлам:
```
Укажите путь к месту расположения файлов: 
```

#### Консольный вывод сформированного отчета в виде таблицы:
```
average-rating
+----+---------+----------+
|    | brand   |   rating |
+====+=========+==========+
|  1 | apple   |     4.55 |
|  2 | samsung |     4.53 |
|  3 | xiaomi  |     4.37 |
+----+---------+----------+
```

## Тестирование (pytest)

#### Тестируется следующий функционал:
- корректность передаваемых в консоль параметров и аргументов
- обработка ввода данных без указания наименования отчета
- обработка ввода данных без файлов для формирования отчета
- обработка ввода некорректных типов данных
- обработка ввода пустых аргументов
- корректность создания сводного отчета
- обработка файлов с несуществующей позицией отчета
- обработка данных для парсинга с несуществующим файлом
- формат печати таблицы сводного отчета

#### Запуск теста:
```
pytest -v
```

#### Покрытие тестами:

```
pytest --cov=main
```
```
Name      Stmts   Miss  Cover
-----------------------------
main.py      54      9    83%
-----------------------------
TOTAL        54      9    83%
====== 9 passed in 0.37s=====
```

#### Автор:

#### Марин Михаил